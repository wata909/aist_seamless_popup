# aist_seamless_popup
産総研1/20万チームレス地質図の凡例をポップアップ表示するQGIS用のPythonスクリプト

## 概要

このPythonスクリプト（`aist_seamless_popup.py`）は、QGISで産業技術総合研究所（産総研）の1/20万シームレス地質図のAPIを利用し、クリックした地点の地質情報をポップアップで表示するツールを提供します。

## 機能

- QGISの地図上でクリックした地点の地質情報を取得
- 取得した情報をカスタムポップアップで表示
- 右クリックでポップアップを非表示
- ツール切り替え時に自動的にポップアップを非表示

## 必要条件

- QGIS 3.x
- Python 3.x
- `requests` ライブラリ

## インストール方法

特別なインストール作業は必要ありません。`aist_seamless_popup.py` ファイルをダウンロードし、アクセスしやすい場所に保存してください。

## 使用方法

1. QGISを開きます。
2. Pythonコンソール（Plugins > Python Console）を開きます。
3. コンソール上部の「スクリプトエディタを表示/非表示」ボタン（紙とペンのアイコン）をクリックしてスクリプトエディタを開きます。
4. スクリプトエディタで「開く」ボタンをクリックし、保存した `aist_seamless_popup.py` ファイルを選択して開きます。
5. スクリプトエディタ上部の「スクリプトを実行」ボタン（再生ボタンのアイコン）をクリックしてスクリプトを実行します。
6. QGISのツールバーに新しいアイコンが追加されます。
7. このアイコンをクリックして地質情報ツールを有効にします。
8. 地図上の任意の場所を左クリックすると、その位置の地質情報がポップアップで表示されます。
9. 右クリックするとポップアップが非表示になります。
10. 別のツールに切り替えると、ポップアップは自動的に非表示になります。

注意：QGISを再起動した場合は、上記の手順3-5を再度実行する必要があります。

## 注意事項

- このスクリプトは産総研の地質図APIを使用しています。使用の際は産総研の利用規約を確認してください。
- インターネット接続が必要です。
- 地質情報が取得できない場所をクリックした場合、エラーメッセージが表示されます。
- スクリプトを実行する前に、`requests` ライブラリがインストールされていることを確認してください。

## ライセンス

このプロジェクトはCC0ライセンスの下で公開されています。詳細は`LICENSE`ファイルを参照してください。

## 貢献

バグ報告や機能リクエストは、GitHubのIssueで受け付けています。プルリクエストも歓迎します。

## 謝辞

このツールは産業技術総合研究所の[20万分の1日本シームレス地質図V2 Web API](https://gbank.gsj.jp/seamless/v2/api/1.0/)を利用しています。データの提供に感謝いたします。